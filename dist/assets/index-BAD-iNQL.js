(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))g(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const v of l.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&g(v)}).observe(document,{childList:!0,subtree:!0});function c(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function g(n){if(n.ep)return;n.ep=!0;const l=c(n);fetch(n.href,l)}})();const G=9.81,m=30,I=800,r=500,Z="#795548",k="#FF9800",w=.2,B=w*m,ee="#4CAF50",f=30,_=0,S=50,Y=.016,H=document.getElementById("simulationCanvas"),a=H.getContext("2d"),i=document.getElementById("ledgeHeight"),h=document.getElementById("launchSpeed"),p=document.getElementById("launchAngle"),b=document.getElementById("ledgeHeightValue"),D=document.getElementById("launchSpeedValue"),M=document.getElementById("launchAngleValue"),E=document.getElementById("simulateButton"),te=document.getElementById("resetButton"),N=document.getElementById("resultRange"),U=document.getElementById("resultMaxHeight"),q=document.getElementById("resultTimeOfFlight");let s=null,d=0,F=[],o=parseFloat(i.value),W=parseFloat(h.value),$=parseFloat(p.value);function ne(e){return e*(Math.PI/180)}function u(e,t,c=""){t.textContent=`${e.value}${c}`}function P(){a.clearRect(0,0,I,r)}function A(){a.fillStyle=ee,a.fillRect(0,r-f,I,f)}function x(e){const t=e*m,c=r-f-t;a.fillStyle=Z,a.fillRect(_,c,S,t)}function L(e,t){a.beginPath(),a.arc(e,t,B,0,Math.PI*2),a.fillStyle=k,a.fill(),a.closePath()}function ae(e){if(!(e.length<2)){a.beginPath(),a.moveTo(e[0].x,e[0].y);for(let t=1;t<e.length;t++)a.lineTo(e[t].x,e[t].y);a.strokeStyle="rgba(0, 0, 0, 0.5)",a.lineWidth=2,a.stroke(),a.closePath()}}function oe(e,t){const c=ne(t),g=e*Math.cos(c),n=e*Math.sin(c);return{vx0:g,vy0:n}}function V(){N.textContent="--",U.textContent="--",q.textContent="--"}function le(e,t,c){N.textContent=e.toFixed(2),U.textContent=t.toFixed(2),q.textContent=c.toFixed(2)}function j(){d+=Y;const{vx0:e,vy0:t}=oe(W,$),c=e*d,g=t*d-.5*G*d*d,n=o+g,l=_+S,v=r-f-o*m,C=l+c*m,T=v-g*m;F.push({x:C,y:T}),P(),A(),x(o),ae(F),L(C,T);const K=r-f;if(T+B>=K||n-w<=0){cancelAnimationFrame(s),s=null,E.disabled=!1;const R=d,J=e*R;let O=o;for(let y=0;y<=R;y+=Y){const Q=t*y-.5*G*y*y,X=o+Q;X>O&&(O=X)}le(J,O,R);return}if(C>I+B*5||C<-6*5){cancelAnimationFrame(s),s=null,E.disabled=!1,console.log("Cat flew off-screen horizontally."),V();return}s=requestAnimationFrame(j)}function ce(){s&&cancelAnimationFrame(s),d=0,F=[],V(),o=parseFloat(i.value),W=parseFloat(h.value),$=parseFloat(p.value),E.disabled=!0,P(),A(),x(o);const e=_+S,t=r-f-o*m;L(e,t),s=requestAnimationFrame(j)}function z(){s&&(cancelAnimationFrame(s),s=null),d=0,F=[],i.value="2.0",h.value="5.0",p.value="30",u(i,b," m"),u(h,D," m/s"),u(p,M,"°"),o=parseFloat(i.value),V(),E.disabled=!1,P(),A(),x(o);const e=_+S,t=r-f-o*m;L(e,t)}i.addEventListener("input",()=>{if(u(i,b," m"),!s){o=parseFloat(i.value),P(),A(),x(o);const e=_+S,t=r-f-o*m;L(e,t)}});h.addEventListener("input",()=>{u(h,D," m/s")});p.addEventListener("input",()=>{u(p,M,"°")});E.addEventListener("click",ce);te.addEventListener("click",z);function se(){H.width=I,H.height=r,u(i,b," m"),u(h,D," m/s"),u(p,M,"°"),z()}se();
